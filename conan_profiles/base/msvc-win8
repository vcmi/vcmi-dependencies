include(msvc)

[settings]
# https://blog.knatten.org/2022/08/26/microsoft-c-versions-explained/
# https://learn.microsoft.com/en-us/cpp/overview/compiler-versions
# https://github.com/actions/runner-images/blob/win25/20251102.77/images/windows/Windows2025-Readme.md#microsoft-visual-c
# v144 / 14.44 / 19.44
compiler.version=194
compiler.update=4

[conf]
# VS 2022
tools.microsoft.msbuild:vs_version=17

# https://walbourn.github.io/a-brief-history-of-windows-sdks/
# https://learn.microsoft.com/en-us/cpp/porting/modifying-winver-and-win32-winnt
# https://learn.microsoft.com/en-us/windows/win32/WinProg/using-the-windows-headers
{% set _WIN32_WINNT_WIN8 = '0x0602' %}
{% set NTDDI_WIN8 = '0x06020000' %}
{% set win8_defines = [
    '_WIN32_WINNT={}'.format(_WIN32_WINNT_WIN8),
    'WINVER={}'.format(_WIN32_WINNT_WIN8),
    'NTDDI_VERSION={}'.format(NTDDI_WIN8),
] %}
tools.build:defines={{ win8_defines }}
